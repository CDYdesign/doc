.. include:: ../LINKS.rst

.. _chapter3-CSP:



内容安全策略 Content Security Policy (CSP)
==================================================================



为了缓解很大一部分潜在的跨站脚本问题，Chrome浏览器的扩展程序系统引入了 `内容安全策略（CSP） <http://dvcs.w3.org/hg/content-security-policy/raw-file/tip/csp-specification.dev.html>`_ 的一般概念。这将引入一些相当严格的策略，会使得扩展程序在默认情况下更加安全，并向您提供创建并强制应用一些规则，管理您的扩展程序和应用程序允许载入的内容类型。

大体上，CSP以白名单/黑名单的机制对您的扩展程序载入或执行的资源起作用。为您的扩展程序定义一项合理的策略使您仔细考虑您的扩展程序需要的资源，并且使浏览器确保您的扩展程序只能访问指定的那些资源。这些策略提供了比您的扩展程序请求的
:ref:`主机权限 <chapter3-Manifest-permissions>` 更高的安全性，它们是额外的保护层，而不是主机权限的替代品。

在网页中，这样的策略通过HTTP头信息或者meta元素定义。在Chrome浏览器的扩展程序系统中，它们都不是合适的方式。扩展程序的策略通过扩展程序的
:ref:`manifest.json <chapter3-Manifest>` 文件定义，如下所示：

Default Policy Restrictions
------------------------------------------------------------------------------

    Inline JavaScript will not be executed
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    Only local script and and object resources are loaded
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^


Relaxing the default policy
------------------------------------------------------------------------------

Tightening the default policy
------------------------------------------------------------------------------
